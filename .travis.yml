language: c
os: linux
compiler: gcc
env:
  global:
   # The next declaration is the encrypted COVERITY_SCAN_TOKEN, created
   #   via the "travis encrypt" command using the project repo's public key
   - secure: "ArH9cfOCLkPSshS4giT/124s36Ady4Z6L8V86nIib6OiCIPWCWZdYQsSGCgZJMoRKP0T4SyxiPvxkkO29cJQzkG+O3jmGCR4dSICwyTSrvqUFnBj+3Gx5X+/nm91Uy+yze1h0JXhOF+8YCyOLude15xkuDJudYJZmtMj5hMRT+hp4qRW6JfSOJOKaw4OlcMOYyqBQNr9QYhGdZucWq4C/JytL5Nf8ZKjxxtg1M43B/kqU9SFY/Af/UYrIjvYP1jukwB+VnQdj6O9SMHWGAh2QHuZr2jsNGEBTceB2gdGt29lsr1/Wl1tRnn0CeH+uPUKi+PthxTD3rtjyacHY/DOrpjnRoNMg6o32TlPjPkVPRoqjf8USThZMlkTHaFDdLZu0Y5lZP1JDX63PPnLFgRtq3+HMrGnvY1wvlvNtPGfeRfV2BcxF/LfuY9BNWod9Cbxt+tA1MFcoXSqzKvdbb1qFIQvdlbJNEw1wII0HI1N+Q6ol2pfugwQXlvAi2z8Zisbde/b3AXJntxjth6ruSf708LKMuYu1DVv5hnmRm+t8oaNeHHRxXRCQ73oC3MRt8LpcoXzgGV5dbAbZTobaD0tExBUZh8gKg/54R50u2/q91fl/ZH5gby8uS65QdMRYrPv9hFkMv+WS/2YDtShU1bnAhvReWjQUe3Yz8vCGsUQD0A="
before_install:
  - echo -n | openssl s_client -connect https://scan.coverity.com:443 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' | sudo tee -a /etc/ssl/certs/ca-

addons:
  coverity_scan:
    project:
      name: "Mithreindeir/Dynzasm"
      description: "Interactive Disassembler"
    notification_email: mithreindeir@gmail.com
    build_command_prepend: "make clean"
    build_command: "make"
    branch_pattern: coverity_scan
script: make
after_success: bash < (curl -s https://codecov.io/bash)
